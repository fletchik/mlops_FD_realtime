# Архитектура сервиса детекции фрода

В данном документе описана архитектура сервиса детекции фрода,
реализованного в рамках курса по MLOps.
Для описания архитектуры используется методология **C4**.

---

## Контекст системы (C4 Level 1)

Контекстная диаграмма отражает сервис детекции фрода как единое целое
и показывает его взаимодействие с внешними акторами и системами.

Диаграмма:  
[c4_context.md](./c4_context.md)

Основные взаимодействия:
- пользователь работает с системой через web-интерфейс;
- интерфейс отправляет транзакции в Kafka;
- сервис детекции фрода получает транзакции и публикует результаты скоринга.

---

## Компоненты системы (C4 Level 3)

Диаграмма компонентов детализирует архитектуру сервиса и показывает
основные Docker-контейнеры и их связи.

Диаграмма:  
[c4_components.md](./c4_components.md)

В системе выделены следующие компоненты:
- Kafka и Zookeeper — брокер сообщений;
- Interface (Streamlit) — пользовательский интерфейс и producer транзакций;
- Fraud Detector — сервис скоринга транзакций.

Внутри сервиса детекции фрода выделены логические модули:
- чтение сообщений из Kafka;
- препроцессинг данных;
- инференс модели;
- запись результатов обратно в Kafka.

---

## Поток данных

1. Транзакции отправляются в Kafka через пользовательский интерфейс.
2. Сервис детекции фрода читает транзакции из Kafka.
3. Выполняется препроцессинг и инференс модели.
4. Результаты скоринга публикуются в Kafka.



